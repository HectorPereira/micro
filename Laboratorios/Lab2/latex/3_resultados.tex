\section{Resultados}
% En esta secci√≥n se presentan los resultados obtenidos durante la implementaci√≥n y prueba de los distintos m√≥dulos desarrollados: el sistema de reconocimiento de colores, el piano electr√≥nico, la cerradura con contrase√±a y el control del plotter. Cada m√≥dulo fue verificado individualmente en simulaci√≥n y en montaje f√≠sico, registrando su funcionamiento y las principales observaciones.

\subsection{Resultados por m√≥dulo}

\subsubsection{\textbf{Plotter}}---
% Explic√° c√≥mo se verific√≥ el movimiento (por ejemplo, ejecuci√≥n de trayectorias simples o figuras predefinidas).

% Mostr√° fotos o diagramas de movimiento, si ten√©s.

% Coment√° observaciones: velocidad, precisi√≥n, limitaciones por USART.

% üí¨ Ejemplo:

% El plotter ejecut√≥ correctamente trayectorias lineales y circulares generadas desde un script en Python. Se comprob√≥ que, al reducir la tasa de env√≠o por USART, la respuesta del sistema fue m√°s fluida y sin interrupciones perceptibles.

\subsubsection{\textbf{Colores}}---
% Mostr√° la tabla o los valores obtenidos por el LDR para cada color calibrado.

\begin{table}[H]
\centering
\caption{Valores de referencia RGB para cada color calibrado.}
\begin{tabular}{lccc}
\toprule
\textbf{Color} & \textbf{R} & \textbf{G} & \textbf{B} \\
\midrule
Morado      & 216 & 157 & 274 \\
Rojo        & 206 & 149 & 262 \\
Amarillo    & 196 &  99 & 105 \\
Verde       & 272 & 192 & 152 \\
Azul Claro  & 151 & 153 & 122 \\
Violeta     & 253 & 275 & 338 \\
Blanco      & 110 &  93 &  91 \\
\bottomrule
\end{tabular}
\label{tab:color_ref}
\end{table}

% Inclu√≠ una figura de la tira LED mostrando el color detectado o el √°ngulo del servo.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\columnwidth]{anexos/colores/EvidenciaFuncionamiento.jpg}
    \caption{Identificaci√≥n de color efectiva. Fuente: elaboraci√≥n pr√≥pia}
    \label{fig:color_evidencia}
\end{figure}


% Mencion√° el comportamiento: estabilidad, sensibilidad a la luz ambiente, etc.

% Estabilidad frente a consumo
Utilizando una fuente externa el sistema es considerablemente estable
Como el servomotor posee un pico de consumo en momentos de arranque, si este es alimentado solamente con el voltaje del Arduino, algunos colores se volv√≠an inestables y creaba fallas en la medici√≥n, haciendo un ciclo de retroalimentaci√≥n.

% Estabilidad a luz ambiental
Otra consideraci√≥n fue que el sistema tambi√©n es dependiente en cierta medida a la cantidad de luz ambiental del lugar en el que se encuentre. La misma tira de LEDs al iluminarse a veces causaba falsas medidas, se solvent√≥ esto bloqueando la luz de la tira hacia el sensor.

% Delay frente a USART
Tambi√©n, al implementar la impresi√≥n de datos a trav√©s de USART, se observ√≥ una ralentizaci√≥n considerable del funcionamiento del programa debido al tiempo que le tomaba enviarse a los datos para cada ciclo. Al quitar esta funcionalidad el sistema lograba un aumento significativo en su velocidad de operaci√≥n.

% ----------------------------------------- RAMBLINGS

% Reconocer colores
% Como se reconoce un color
% Un color se puede descomoner en otros colores
% Colores primarios
% Colores CYMK
% Colores RGB
% Un LDR no puede medir componentes
% Un LDR solo mide luz reflejada
% Si iluminamos con luz blanca el LDR mide la cantidad de luz blanca que rebota
% Seria como tener vision en blanco y negro
% Algunos colores serian dificiles de identificar

% Si iluminamos con otro color el LDR ve la cantidad de luz que refleja de ese color
% Si iluminamos con rojo, luego verde, y luego azul el LDR puede identificar 
% colores con 3 grados de libertad como el ojo humano.

% Se utiliza un led RGB para iluminar con estos colores

% El LDR no responde la misma manera a todos los tipos de luz. 
% Los valores medidos no se van a correlacionar de manera directa
% Con las componentes tradicionales de cada color.
% Ademas de que existen variaciones de emision de luz entre los mismos colores del led

% Sin embargo es suficiente si lo calibramos antes

% Utilizando un divisor de voltaje se conecta el ldr a un pin analogico del arduino

% Se ilumina con rojo verde y azul para cada color y se recopilan los valores medidos por el ADC

% Se mapean los 6 colores de la hoja para tomar como referencias.

% Para determinar el color el cual el LDR esta apuntando
% se calcula cual es el valor m√°s pr√≥ximo tomando
% en cuenta los 3 componentes como ejes de libertad
% realizando un calculo de distancia cartesiana.
% A2 + B2 + C2 = D2

% En este caso rojo verde y azul representan un eje en un espacio tridimensional. 
% Los colores calibrados representan vectores. Y el vector de medici√≥n se 
% mueve a lo largo de todo este espacio adquiriendo diferentes valores rgb.

% De manera ciclica se mide la distancia del vector medicion con respecto 
% al resto de vectores mapeados para identificar cual es el vector que 
% mas se aproxima al vector medici√≥n

% Problemas
% Como medir colores con presicion
% Como reconocer colores precalibrados
% Como controlar un servomotor
% Como controlar una tira LED

% Funcionaldiades
% Salida de info por USART
% Color indicado por angulo en servomotor
% Color indica



\subsubsection{\textbf{Piano}}---

% Mostr√° capturas de los men√∫s USART, las canciones reproducidas o las frecuencias generadas.

% Explic√° el uso de interrupciones para reproducir melod√≠as sin detener el programa.

% Coment√° si el sonido fue limpio, si hubo desfase, o c√≥mo responden los botones.

% üí¨ Ejemplo:

% El piano electr√≥nico logr√≥ reproducir correctamente las melod√≠as ‚ÄúCha-La Head-Cha-La‚Äù y ‚ÄúStill Alive‚Äù. Cada nota se gener√≥ a partir del temporizador 0 configurado en modo CTC. La reproducci√≥n simult√°nea de pistas A y B mostr√≥ un leve desfase tras varios segundos de ejecuci√≥n, atribuible a peque√±as diferencias en el conteo de interrupciones.

% ---------------------------- RAMBLINGS

% Sonido
% Que es el sonido
% Ondas
% Difrentes tipos de ondas
% Como hacemos sonido
% Buzzer
% Onda cuadrada
% Como funciona el buzzer
% Piezo
% Como lo hacemos sonar con el atmega
% Variacion de frecuencia
% Como hacemos otro sonido
% Cambiamos la frencuencia
% Como hacemos musica
% Teoria musical basica
% Mapeo de notas
% Una nota es una frecuencia
% Una frecuencia durante un tiempo es una nota
% Como guardamos musica
% Nota musical: frencuencia, tiempo encendido, tiempo apagado
% Secuencia de notas musicales --- musica
% La musica se compone de varios instrumentos en paralelo
% Como reproducimos varios instrumentos
% Evitar polling --- Utilizar timers

% Problemas
% Como reproducir sonido
% Como representar una nota musical
% Como reproducir pistas en paralelo

% Funcionalidades
% Control por USART
% Piano fisico




\subsubsection{\textbf{Cerradura}}---

% Mostr√° el flujo de la interfaz (mensajes en LCD, ingreso de contrase√±a, cambio de clave, activaci√≥n de alarma).

% Si pod√©s, mostr√°s una tabla con los estados de la m√°quina y qu√© hace cada uno.

% Coment√° observaciones de funcionamiento en simulaci√≥n vs f√≠sico.

% üí¨ Ejemplo:

% El sistema respondi√≥ correctamente al ingreso de contrase√±as v√°lidas e inv√°lidas. Tras tres intentos fallidos, se activ√≥ la alarma visual y sonora. El cambio de contrase√±a fue exitoso y persisti√≥ tras apagar el microcontrolador, confirmando la correcta escritura en EEPROM. En PicSimLab, el teclado dej√≥ de responder tras reiniciar, pero en el hardware f√≠sico el funcionamiento fue estable.

% -------------------------- RAMBLINGS

% Cerradura
% Que tiene que hacer
% Candado cerrado
% Contrase√±a correcta
% Candado abierto
% Sino 3 veces alarma

% Cambiar contrase√±a
% Contra actual
% Contra nueva
% Guaradado

% Contrase√±as tienen que ser entre 4 y 6 digitos

% Problema
% Una interfaz de usuario
% Que es una interfaz
% Entradas y salidas
% El usuario hace algo y la interfaz muestra algo
% Es la parte del programa o sistema que se encarga
% de hablar con el usuario.
% Diferentes acciones muestran o hacen diferentes cosas
% Maquina de estados --- Transiciones de estado.
% Problema: Reproducir sonidos, hacer debouncing, manejar alarmas, pantalla LCD. 
% No existen suficientes timers
% Solucion: tareas o tasks
% Utilizar un contador de tiempo interno de 32 bits
% junto con un solo timer para manejar tareas en paralelo

% La tarea se ejecuta rapidamente en el main y compara el timepo que paso con 
% el tiempo especificado para una acci√≥n especifica.

% Un solo timer. Muchos delays sin polling.

% Otro problema
% Contrase√±a debe ser guardada aunque el sistema est√© apagado
% Solucion EEPROM
% Funcionamiento de la eeprom
% limitaciones de escritura de EEPROM
% Como leer
% Como escribir

% Otro problema
% Teclado matricial
% Usa menos pines, uno por fila uno por columna
% Como identificar botones presionados
% Respuesta multiplexado
% Filas funcionan como salidas
% Columnas funcionan como entradas (pullup interno)
% Al solamente apagar una fila a la vez (0) 
% va a hacer que el pin de esa columna se vuelva 0
% Funcion retorna el caracter que representa esa fila y columna
% Listo.











\subsection{Evidencias gr√°ficas y mediciones}
% Capturas del LCD, fotos del montaje, gr√°ficos de lectura ADC, diagramas de flujo, etc.

% Si mediste tiempos, tensiones o corrientes, ponelos en tabla o gr√°fico simple.

\subsection{Comentario general}
% Un breve cierre que enlace con la secci√≥n de conclusiones:

	% En general, todos los m√≥dulos cumplieron los objetivos planteados. Se lograron lecturas estables, respuestas correctas y sincronizaci√≥n entre las distintas tareas, demostrando la integraci√≥n de hardware y software en un entorno embebido con recursos limitados.
